;; constant_fold.rs adds most constant folding operations
;; this file is for special cases


;; eliminate gamma nodes for true and false cases


(rule ((= gamma
          ;; gamma predicate is true
          (Gamma (Const (const) (Bool true))
                 inputs
                 (VVO outputs))))
      (
        ;; replace whole gamma with second case
        (union
          gamma
          (SubstBodyAll inputs
            (vec-get outputs 1)))))

