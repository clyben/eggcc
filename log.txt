
running 7 tests
test cfg::tests::block_diamond ... ok
test cfg::tests::diamond ... ok
test cfg::tests::fib_cfg ... ok
test cfg::tests::implicit_return ... ok
test cfg::tests::queen ... ok
test cfg::tests::unstructured ... ok
test cfg::tests::unstructured_panics ... ok

test result: ok. 7 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s


running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s


running 11 tests

        (datatype Expr
          (Int String i64)
          (True String)
          (False String)
          (Char String String)
          (Float String f64)
          (add String Expr Expr)
          (sub String Expr Expr)
          (mul String Expr Expr)
          (div String Expr Expr)
          (lt String Expr Expr))

        (datatype RetVal
            (ReturnValue Expr)
            (Void))

        (datatype FunctionBody
          (End)
          (Ret RetVal FunctionBody)
          (Call String Expr FunctionBody)
          (Print Expr FunctionBody))

        (datatype Function
          ;; name and body
          (Func String FunctionBody))

        (rewrite (add ty (Int ty a) (Int ty b)) (Int ty (+ a b)))
        (rewrite (sub ty (Int ty a) (Int ty b)) (Int ty (- a b)))

        (Func "main" (Print (add "int" (Int "int" 1) (Int "int" 2)) (Ret (Void) (End))))
        (run 0)
        

        (datatype Expr
          (Int String i64)
          (True String)
          (False String)
          (Char String String)
          (Float String f64)
          (add String Expr Expr)
          (sub String Expr Expr)
          (mul String Expr Expr)
          (div String Expr Expr)
          (lt String Expr Expr))

        (datatype RetVal
            (ReturnValue Expr)
            (Void))

        (datatype FunctionBody
          (End)
          (Ret RetVal FunctionBody)
          (Call String Expr FunctionBody)
          (Print Expr FunctionBody))

        (datatype Function
          ;; name and body
          (Func String FunctionBody))

        (rewrite (add ty (Int ty a) (Int ty b)) (Int ty (+ a b)))
        (rewrite (sub ty (Int ty a) (Int ty b)) (Int ty (- a b)))

        (Func "main" (Print (add "int" (Int "int" 1) (Int "int" 2)) (Ret (Void) (End))))
        (run 3)
        
test queens-func_structured     ... [0m[32mok[0m
test block-diamond_structured   ... [0m[32mok[0m
test diamond_structured         ... [0m[32mok[0m
test add_structured             ... [0m[32mok[0m
test implicit-return_structured ... [0m[32mok[0m
test fib_shape_structured       ... [0m[32mok[0m
test add_no_opt                 ... [0m[32mok[0m
test add                        ... [0m[32mok[0m

        (datatype Expr
          (Int String i64)
          (True String)
          (False String)
          (Char String String)
          (Float String f64)
          (add String Expr Expr)
          (sub String Expr Expr)
          (mul String Expr Expr)
          (div String Expr Expr)
          (lt String Expr Expr))

        (datatype RetVal
            (ReturnValue Expr)
            (Void))

        (datatype FunctionBody
          (End)
          (Ret RetVal FunctionBody)
          (Call String Expr FunctionBody)
          (Print Expr FunctionBody))

        (datatype Function
          ;; name and body
          (Func String FunctionBody))

        (rewrite (add ty (Int ty a) (Int ty b)) (Int ty (+ a b)))
        (rewrite (sub ty (Int ty a) (Int ty b)) (Int ty (- a b)))

        (Func "main" (Ret (ReturnValue (add "int" (Int "int" 1) (Int "int" 2))) (End)))
(Func "sub" (Ret (ReturnValue (sub "int" (Int "int" 1) (Int "int" 2))) (End)))
        (run 3)
        

        (datatype Expr
          (Int String i64)
          (True String)
          (False String)
          (Char String String)
          (Float String f64)
          (add String Expr Expr)
          (sub String Expr Expr)
          (mul String Expr Expr)
          (div String Expr Expr)
          (lt String Expr Expr))

        (datatype RetVal
            (ReturnValue Expr)
            (Void))

        (datatype FunctionBody
          (End)
          (Ret RetVal FunctionBody)
          (Call String Expr FunctionBody)
          (Print Expr FunctionBody))

        (datatype Function
          ;; name and body
          (Func String FunctionBody))

        (rewrite (add ty (Int ty a) (Int ty b)) (Int ty (+ a b)))
        (rewrite (sub ty (Int ty a) (Int ty b)) (Int ty (- a b)))

        (Func "sub" (Ret (ReturnValue (sub "int" (Int "int" 1) (Int "int" 2))) (End)))
(Func "main" (Ret (ReturnValue (add "int" (Int "int" 1) (Int "int" 2))) (End)))
        (run 0)
        
test two_fns_structured         ... [0m[32mok[0m
test two_fns_no_opt             ... [0m[32mok[0m
test two_fns                    ... [0m[32mok[0m

test result: [0m[32mok[0m. 11 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.10s


running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

